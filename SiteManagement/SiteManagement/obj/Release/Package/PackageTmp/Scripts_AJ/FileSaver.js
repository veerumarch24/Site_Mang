var saveAs = saveAs || function (a) { "use strict"; if ("undefined" == typeof navigator || !/MSIE [1-9]\./.test(navigator.userAgent)) { var b = a.document, c = function () { return a.URL || a.webkitURL || a }, d = b.createElementNS("http://www.w3.org/1999/xhtml", "a"), e = "download" in d, f = function (a) { var b = new MouseEvent("click"); a.dispatchEvent(b) }, g = /Version\/[\d\.]+.*Safari/.test(navigator.userAgent), h = a.webkitRequestFileSystem, i = a.requestFileSystem || h || a.mozRequestFileSystem, j = function (b) { (a.setImmediate || a.setTimeout)(function () { throw b }, 0) }, k = "application/octet-stream", l = 0, m = 500, n = function (b) { var d = function () { "string" == typeof b ? c().revokeObjectURL(b) : b.remove() }; a.chrome ? d() : setTimeout(d, m) }, o = function (a, b, c) { b = [].concat(b); for (var d = b.length; d--;) { var e = a["on" + b[d]]; if ("function" == typeof e) try { e.call(a, c || a) } catch (a) { j(a) } } }, p = function (a) { return /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type) ? new Blob(["\ufeff", a], { type: a.type }) : a }, q = function (b, j, m) { m || (b = p(b)); var t, u, z, q = this, r = b.type, s = !1, v = function () { o(q, "writestart progress write writeend".split(" ")) }, w = function () { if (u && g && "undefined" != typeof FileReader) { var d = new FileReader; return d.onloadend = function () { var a = d.result; u.location.href = "data:attachment/file" + a.slice(a.search(/[,;]/)), q.readyState = q.DONE, v() }, d.readAsDataURL(b), void (q.readyState = q.INIT) } if (!s && t || (t = c().createObjectURL(b)), u) u.location.href = t; else { var e = a.open(t, "_blank"); void 0 == e && g && (a.location.href = t) } q.readyState = q.DONE, v(), n(t) }, x = function (a) { return function () { if (q.readyState !== q.DONE) return a.apply(this, arguments) } }, y = { create: !0, exclusive: !1 }; return q.readyState = q.INIT, j || (j = "download"), e ? (t = c().createObjectURL(b), d.href = t, d.download = j, void setTimeout(function () { f(d), v(), n(t), q.readyState = q.DONE })) : (a.chrome && r && r !== k && (z = b.slice || b.webkitSlice, b = z.call(b, 0, b.size, k), s = !0), h && "download" !== j && (j += ".download"), (r === k || h) && (u = a), i ? (l += b.size, void i(a.TEMPORARY, l, x(function (a) { a.root.getDirectory("saved", y, x(function (a) { var c = function () { a.getFile(j, y, x(function (a) { a.createWriter(x(function (c) { c.onwriteend = function (b) { u.location.href = a.toURL(), q.readyState = q.DONE, o(q, "writeend", b), n(a) }, c.onerror = function () { var a = c.error; a.code !== a.ABORT_ERR && w() }, "writestart progress write abort".split(" ").forEach(function (a) { c["on" + a] = q["on" + a] }), c.write(b), q.abort = function () { c.abort(), q.readyState = q.DONE }, q.readyState = q.WRITING }), w) }), w) }; a.getFile(j, { create: !1 }, x(function (a) { a.remove(), c() }), x(function (a) { a.code === a.NOT_FOUND_ERR ? c() : w() })) }), w) }), w)) : void w()) }, r = q.prototype, s = function (a, b, c) { return new q(a, b, c) }; return "undefined" != typeof navigator && navigator.msSaveOrOpenBlob ? function (a, b, c) { return c || (a = p(a)), navigator.msSaveOrOpenBlob(a, b || "download") } : (r.abort = function () { var a = this; a.readyState = a.DONE, o(a, "abort") }, r.readyState = r.INIT = 0, r.WRITING = 1, r.DONE = 2, r.error = r.onwritestart = r.onprogress = r.onwrite = r.onabort = r.onerror = r.onwriteend = null, s) } }("undefined" != typeof self && self || "undefined" != typeof window && window || this.content); "undefined" != typeof module && module.exports ? module.exports.saveAs = saveAs : "undefined" != typeof define && null !== define && null != define.amd && define([], function () { return saveAs });